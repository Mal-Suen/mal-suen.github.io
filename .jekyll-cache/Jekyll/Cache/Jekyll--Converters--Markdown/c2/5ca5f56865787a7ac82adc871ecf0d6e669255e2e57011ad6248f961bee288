I"/<h2 id="å‰è¨€">å‰è¨€</h2>

<p>Rubyæ˜¯ä¸€ç§çº¯ç²¹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ï¼Œè¢«ç§°ä¸º<strong>â€œç¨‹åºå‘˜çš„æœ€ä½³æœ‹å‹â€ã€‚</strong></p>

<p>RubyGemsï¼ˆGemsï¼‰æ˜¯ä¸€ä¸ªç”¨äºå¯¹ Rubyç»„ä»¶è¿›è¡Œæ‰“åŒ…çš„ Ruby æ‰“åŒ…ç³»ç»Ÿã€‚ å®ƒæä¾›ä¸€ä¸ªåˆ†å‘ Ruby ç¨‹åºå’Œåº“çš„æ ‡å‡†æ ¼å¼ï¼Œè¿˜æä¾›ä¸€ä¸ªç®¡ç†ç¨‹åºåŒ…å®‰è£…çš„å·¥å…·ã€‚RubyGemsçš„åŠŸèƒ½ç±»ä¼¼äºLinuxä¸‹çš„apt-getã€‚ä½¿ç”¨å®ƒå¯ä»¥æ–¹ä¾¿çš„ä»è¿œç¨‹æœåŠ¡å™¨ä¸‹è½½å¹¶å®‰è£…Railsã€‚</p>

<p>å‰å‡ æ—¥å¯¹gemè¿›è¡Œæ›´æ–°çš„æ—¶å€™ï¼Œå‘ç°æœ‰ä¸€ä¸ªåä¸º<code class="language-plaintext highlighter-rouge">did_you_mean</code>çš„gemsæ›´æ–°æŠ¥é”™ï¼Œé”™è¯¯å†…å®¹æç¤ºéœ€è¦Rubyçš„ç‰ˆæœ¬ä¸º2.5.0ä»¥ä¸Šã€‚äºæ˜¯å°±èŒç”Ÿäº†ä½¿ç”¨RVMå®‰è£…å¤šä¸ªRubyå¹¶å®ç°æ§åˆ¶åˆ‡æ¢Rubyç‰ˆæœ¬çš„æƒ³æ³•ã€‚</p>

<p>ä»¥ä¸‹çš„å‘½ä»¤éƒ½æ˜¯åœ¨å½“å‰ç”¨æˆ·æƒé™ä¸‹æ‰§è¡Œçš„ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨sudoã€‚</p>

<h2 id="å®‰è£…rvm">å®‰è£…RVM</h2>

<p><a href="https://rvm.io/">RVM</a> æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥æä¾›ä¸€ä¸ªä¾¿æ·çš„å¤šç‰ˆæœ¬ Ruby ç¯å¢ƒçš„ç®¡ç†å’Œåˆ‡æ¢ã€‚</p>

<p>å¦‚æœä½ æ‰“ç®—å­¦ä¹  Ruby / Rails, RVM æ˜¯å¿…ä¸å¯å°‘çš„å·¥å…·ä¹‹ä¸€ã€‚</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>gpg <span class="nt">--keyserver</span> hkp://keys.gnupg.net <span class="nt">--recv-keys</span> 409B6B1796C275462A1703113804BB82D39DC0E3
<span class="nv">$ </span>curl <span class="nt">-sSL</span> https://get.rvm.io | bash <span class="nt">-s</span> stable
<span class="c"># å¦‚æœä¸Šé¢çš„è¿æ¥å¤±è´¥ï¼Œå¯ä»¥å°è¯•: </span>
<span class="nv">$ </span>curl <span class="nt">-L</span> https://raw.githubusercontent.com/wayneeseguin/rvm/master/binscripts/rvm-installer | bash <span class="nt">-s</span> stable
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æœŸé—´å¯èƒ½ä¼šé—®ä½  sudo ç®¡ç†å‘˜å¯†ç ï¼Œä»¥åŠè‡ªåŠ¨é€šè¿‡ <code class="language-plaintext highlighter-rouge">Homebrew</code> å®‰è£…ä¾èµ–åŒ…ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´åå°±å¯ä»¥æˆåŠŸå®‰è£…å¥½ RVMã€‚</p>

<p>ç›¸å…³çš„é…ç½®ä¼šå†™å…¥.bashrcä¸.bash_profileä¸­ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨è¿›è¡Œé…ç½®ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># Add RVM to PATH for scripting. Make sure this is the last PATH variable change.</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$PATH</span><span class="s2">:</span><span class="nv">$HOME</span><span class="s2">/.rvm/bin"</span>

<span class="o">[[</span> <span class="nt">-s</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.rvm/scripts/rvm"</span> <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nb">source</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.rvm/scripts/rvm"</span> <span class="c"># Load RVM into a shell session *as a function*</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç„¶åï¼Œè½½å…¥ RVM ç¯å¢ƒï¼ˆæ–°å¼€ç»ˆç«¯å°±ä¸ç”¨è¿™ä¹ˆåšäº†ï¼Œä¼šè‡ªåŠ¨é‡æ–°è½½å…¥çš„ï¼‰</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">source</span> ~/.rvm/scripts/rvm
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å¦‚æœä¸èƒ½ç§‘å­¦ä¸Šç½‘çš„è¯ï¼Œå¯ä»¥ä¿®æ”¹ RVM ä¸‹è½½ Ruby çš„æºï¼Œåˆ° Ruby China çš„é•œåƒï¼Œä¸ç„¶ç½‘é€Ÿä¼šå¾ˆæ„Ÿäºº:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s2">"ruby_url=https://cache.ruby-china.org/pub/ruby"</span> <span class="o">&gt;</span> ~/.rvm/user/db
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å®‰è£…æ­£ç¡®</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm <span class="nt">-v</span>
rvm 1.29.3 <span class="o">(</span>latest<span class="o">)</span> by Michal Papis, Piotr Kuczynski, Wayne E. Seguin <span class="o">[</span>https://rvm.io]
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="ä½¿ç”¨rvmå®‰è£…rubyç¯å¢ƒ">ä½¿ç”¨RVMå®‰è£…Rubyç¯å¢ƒ</h2>

<p>åˆ—å‡ºå·²çŸ¥çš„ Ruby ç‰ˆæœ¬</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm list known
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å®‰è£…ä¸€ä¸ª Ruby ç‰ˆæœ¬</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm <span class="nb">install </span>2.5.0
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¿™é‡Œå®‰è£…äº†æœ€æ–°çš„ 2.5.0, <code class="language-plaintext highlighter-rouge">rvm list known</code> åˆ—è¡¨é‡Œé¢çš„éƒ½å¯ä»¥æ‹¿æ¥å®‰è£…ã€‚</p>

<p>åˆ‡æ¢ Ruby ç‰ˆæœ¬</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm use 2.5.0
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å¦‚æœæƒ³è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬ï¼Œè¿™æ ·ä¸€æ¥ä»¥åæ–°æ‰“å¼€çš„æ§åˆ¶å°é»˜è®¤çš„ Ruby å°±æ˜¯è¿™ä¸ªç‰ˆæœ¬</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm use 2.5.0 <span class="nt">--default</span> 
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¿™æ—¶å€™ä½¿ç”¨<code class="language-plaintext highlighter-rouge">ruby -v</code>æŸ¥çœ‹å½“å‰çš„Rubyçš„ç‰ˆæœ¬</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>ruby 2.5.0p0 <span class="o">(</span>2017-12-25 revision 61468<span class="o">)</span> <span class="o">[</span>x86_64-darwin17]
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æŸ¥è¯¢å·²ç»å®‰è£…çš„ruby</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm list
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å¸è½½ä¸€ä¸ªå·²å®‰è£…ç‰ˆæœ¬</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm remove 2.2.0
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="gemsetçš„ä½¿ç”¨è¡¥å……">gemsetçš„ä½¿ç”¨ï¼ˆè¡¥å……ï¼‰</h2>

<p>RVM ä¸ä»…å¯ä»¥æä¾›ä¸€ä¸ªå¤š Ruby ç‰ˆæœ¬å…±å­˜çš„ç¯å¢ƒï¼Œè¿˜å¯ä»¥æ ¹æ®é¡¹ç›®ç®¡ç†ä¸åŒçš„ gemset.</p>

<p>gemset å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è™šæ‹Ÿ Gem ç¯å¢ƒï¼Œæ¯ä¸€ä¸ª gemset éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚</p>

<p>æ¯”å¦‚ä½ æœ‰ä¸¤ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªæ˜¯ Rails 2.3 ä¸€ä¸ªæ˜¯ <code class="language-plaintext highlighter-rouge">rails3. gemset</code> å¯ä»¥å¸®ä½ ä¾¿æ·çš„å»ºç«‹ä¸¤å¥— Gem å¼€å‘ç¯å¢ƒï¼Œå¹¶ä¸”æ–¹ä¾¿çš„åˆ‡æ¢ã€‚</p>

<p>gemset æ˜¯é™„åŠ åœ¨ Ruby è¯­è¨€ç‰ˆæœ¬ä¸‹é¢çš„ï¼Œä¾‹å¦‚ä½ ç”¨äº† 1.9.2, å»ºç«‹äº†ä¸€ä¸ªå« rails3 çš„ gemset,å½“åˆ‡æ¢åˆ° 1.8.7 çš„æ—¶å€™ï¼Œrails3 è¿™ä¸ª gemset å¹¶ä¸å­˜åœ¨ã€‚</p>

<p>å»ºç«‹ gemset</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm use 1.8.7
<span class="nv">$ </span>rvm gemset create rails23
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç„¶åå¯ä»¥è®¾å®šå·²å»ºç«‹çš„ gemset åšä¸ºå½“å‰ç¯å¢ƒ</p>

<p>use å¯ä»¥ç”¨æ¥åˆ‡æ¢è¯­è¨€æˆ–è€… gemset</p>

<p>å‰ææ˜¯ä»–ä»¬å·²ç»è¢«å®‰è£…(æˆ–è€…å»ºç«‹)ã€‚å¹¶å¯ä»¥åœ¨ <code class="language-plaintext highlighter-rouge">list</code> å‘½ä»¤ä¸­çœ‹åˆ°ã€‚</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm use 1.8.7
<span class="nv">$ </span>rvm use 1.8.7@rails23
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç„¶åæ‰€æœ‰å®‰è£…çš„ Gem éƒ½æ˜¯å®‰è£…åœ¨è¿™ä¸ª gemset ä¹‹ä¸‹ã€‚</p>

<p>åˆ—å‡ºå½“å‰ Ruby çš„ gemset</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm gemset list
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æ¸…ç©º gemset ä¸­çš„ Gem</p>

<p>å¦‚æœä½ æƒ³æ¸…ç©ºä¸€ä¸ª gemset çš„æ‰€æœ‰ Gem, æƒ³é‡æ–°å®‰è£…æ‰€æœ‰ Gemï¼Œå¯ä»¥è¿™æ ·</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm gemset empty 1.8.7@rails23
</pre></td></tr></tbody></table></code></pre></div></div>

<p>åˆ é™¤ä¸€ä¸ª gemset</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm gemset delete rails2-3
</pre></td></tr></tbody></table></code></pre></div></div>

<p>é¡¹ç›®è‡ªåŠ¨åŠ è½½ gemset</p>

<p>RVM è¿˜å¯ä»¥è‡ªåŠ¨åŠ è½½ gemsetã€‚ ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ª Rails 3.1.3 é¡¹ç›®ï¼Œéœ€è¦ 1.9.3 ç‰ˆæœ¬ Rubyï¼Œæ•´ä¸ªæµç¨‹å¯ä»¥è¿™æ ·ã€‚</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm <span class="nb">install </span>1.9.3
<span class="nv">$ </span>rvm use 1.9.3
<span class="nv">$ </span>rvm gemset create rails313
<span class="nv">$ </span>rvm use 1.9.3@rails313
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ä¸‹é¢è¿›å…¥åˆ°é¡¹ç›®ç›®å½•ï¼Œå»ºç«‹ä¸€ä¸ª <code class="language-plaintext highlighter-rouge">.rvmrc</code> æ–‡ä»¶ã€‚</p>

<p>åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œå¯ä»¥å¾ˆç®€å•çš„åŠ ä¸€ä¸ªå‘½ä»¤ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>rvm use 1.9.3@rails313
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç„¶åæ— è®ºä½ å½“å‰ Ruby è®¾ç½®æ˜¯ä»€ä¹ˆï¼Œcd åˆ°è¿™ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼ŒRVM ä¼šå¸®ä½ åŠ è½½ Ruby 1.9.3 å’Œ rails313 gemset.</p>
:ET